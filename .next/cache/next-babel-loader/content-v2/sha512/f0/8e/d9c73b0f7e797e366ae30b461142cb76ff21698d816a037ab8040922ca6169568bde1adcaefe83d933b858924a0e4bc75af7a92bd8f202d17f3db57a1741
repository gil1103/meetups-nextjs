{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n// will be routed under our-domain.com/ (defult routing)\nimport Head from 'next/head';\nimport { MongoClient } from 'mongodb';\nimport MeetupList from '../components/meetups/MeetupList';\nimport { Fragment } from 'react';\n\nfunction HomePage(props) {\n  return /*#__PURE__*/_jsxs(Fragment, {\n    children: [/*#__PURE__*/_jsxs(Head, {\n      children: [/*#__PURE__*/_jsx(\"title\", {\n        children: \"React Meetups\"\n      }), /*#__PURE__*/_jsx(\"meta\", {\n        name: \"description\",\n        content: \"browse a huge list of highly active React meetups!\"\n      })]\n    }), /*#__PURE__*/_jsx(MeetupList, {\n      meetups: props.meetups\n    }), \";\"]\n  });\n}\n\nexport async function getStaticProps() {\n  const client = await MongoClient.connect('mongodb+srv://gil:test1234@cluster0.l3sni.mongodb.net/meetups?retryWrites=true&w=majority');\n  const db = client.db();\n  const meetupCollection = db.collection('meetups');\n  const meetups = await meetupCollection.find().toArray();\n  client.close();\n  return {\n    props: {\n      meetups: meetups.map(meetup => ({\n        title: meetup.title,\n        address: meetup.address,\n        image: meetup.image,\n        id: meetup._id.toString()\n      }))\n    },\n    revalidate: 1 // is the number in sec, nextjs will wait untill regenerate the page for incoming req\n    // this ensure the page will be regenerated from the server after deployement\n\n  };\n}\nexport default HomePage; // const MEETUPS = [\n// \t{\n// \t\tid: 'm1',\n// \t\timage:\n// \t\t\t'https://corporette.com/wp-content/uploads/2017/03/best-places-for-informal-business-meetings-for-women-lawyers-consultants-and-more.jpg',\n// \t\ttitle: 'A first Meetup',\n// \t\taddress: 'Some address 5, 12345',\n// \t\tdescription: 'this is a first meetup!'\n// \t},\n// \t{\n// \t\tid: 'm2',\n// \t\timage:\n// \t\t\t'https://www.anywhere.pl/wp-content/uploads/2019/07/stanislawie-1024x535-2.jpg',\n// \t\ttitle: 'A second Meetup',\n// \t\taddress: 'Some address 8, 89678',\n// \t\tdescription: 'this is a second meetup!'\n// \t}\n// ];\n// export async function getServerSideProps(contex) { // run for every req-should be used for data changes very frequentely\n// \tconst req = contex.req;\n// \tconst res = contex.res;\n//   //fetch data from API\n// \treturn {\n// \t\tprops: {\n//       meetups: MEETUPS\n//     }\n// \t};\n// }","map":null,"metadata":{},"sourceType":"module"}