{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\Gil\\\\Downloads\\\\Coding\\\\react-projects\\\\meetups-nextjs\\\\pages\\\\index.js\";\n// will be routed under our-domain.com/ (defult routing)\nimport { MongoClient } from 'mongodb';\nimport MeetupList from '../components/meetups/MeetupList';\n\nfunction HomePage(props) {\n  return /*#__PURE__*/_jsxDEV(MeetupList, {\n    meetups: props.meetups\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 10\n  }, this);\n}\n\nexport async function getStaticProps() {\n  const client = await MongoClient.connect('mongodb+srv://gil:test1234@cluster0.l3sni.mongodb.net/meetups?retryWrites=true&w=majority');\n  const db = client.db();\n  const meetupCollection = db.collection('meetups');\n  const meetups = await meetupCollection.find().toArray();\n  client.close();\n  return {\n    props: {\n      meetups: meetups.map(meetup => ({\n        title: meetup.title,\n        address: meetup.address,\n        image: meetup.image,\n        id: meetup._id.toString()\n      }))\n    },\n    revalidate: 1 // is the number in sec, nextjs will wait untill regenerate the page for incoming req\n    // this ensure the page will be regenerated from the server after deployement\n\n  };\n}\nexport default HomePage; // const MEETUPS = [\n// \t{\n// \t\tid: 'm1',\n// \t\timage:\n// \t\t\t'https://corporette.com/wp-content/uploads/2017/03/best-places-for-informal-business-meetings-for-women-lawyers-consultants-and-more.jpg',\n// \t\ttitle: 'A first Meetup',\n// \t\taddress: 'Some address 5, 12345',\n// \t\tdescription: 'this is a first meetup!'\n// \t},\n// \t{\n// \t\tid: 'm2',\n// \t\timage:\n// \t\t\t'https://www.anywhere.pl/wp-content/uploads/2019/07/stanislawie-1024x535-2.jpg',\n// \t\ttitle: 'A second Meetup',\n// \t\taddress: 'Some address 8, 89678',\n// \t\tdescription: 'this is a second meetup!'\n// \t}\n// ];\n// export async function getServerSideProps(contex) { // run for every req-should be used for data changes very frequentely\n// \tconst req = contex.req;\n// \tconst res = contex.res;\n//   //fetch data from API\n// \treturn {\n// \t\tprops: {\n//       meetups: MEETUPS\n//     }\n// \t};\n// }","map":{"version":3,"sources":["C:/Users/Gil/Downloads/Coding/react-projects/meetups-nextjs/pages/index.js"],"names":["MongoClient","MeetupList","HomePage","props","meetups","getStaticProps","client","connect","db","meetupCollection","collection","find","toArray","close","map","meetup","title","address","image","id","_id","toString","revalidate"],"mappings":";;AAAA;AACA,SAASA,WAAT,QAA4B,SAA5B;AACA,OAAOC,UAAP,MAAuB,kCAAvB;;AAEA,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AACvB,sBAAO,QAAC,UAAD;AAAY,IAAA,OAAO,EAAEA,KAAK,CAACC;AAA3B;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;;AAED,OAAO,eAAeC,cAAf,GAAgC;AACrC,QAAMC,MAAM,GAAG,MAAMN,WAAW,CAACO,OAAZ,CACnB,2FADmB,CAArB;AAGE,QAAMC,EAAE,GAAGF,MAAM,CAACE,EAAP,EAAX;AAEA,QAAMC,gBAAgB,GAAGD,EAAE,CAACE,UAAH,CAAc,SAAd,CAAzB;AAEA,QAAMN,OAAO,GAAG,MAAMK,gBAAgB,CAACE,IAAjB,GAAwBC,OAAxB,EAAtB;AAEAN,EAAAA,MAAM,CAACO,KAAP;AAEA,SAAO;AACLV,IAAAA,KAAK,EAAE;AACLC,MAAAA,OAAO,EAAEA,OAAO,CAACU,GAAR,CAAYC,MAAM,KAAG;AAC5BC,QAAAA,KAAK,EAACD,MAAM,CAACC,KADe;AAE5BC,QAAAA,OAAO,EAACF,MAAM,CAACE,OAFa;AAG5BC,QAAAA,KAAK,EAAEH,MAAM,CAACG,KAHc;AAI5BC,QAAAA,EAAE,EAACJ,MAAM,CAACK,GAAP,CAAWC,QAAX;AAJyB,OAAH,CAAlB;AADJ,KADF;AASLC,IAAAA,UAAU,EAAE,CATP,CAUL;AACA;;AAXK,GAAP;AAaD;AAGD,eAAepB,QAAf,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["// will be routed under our-domain.com/ (defult routing)\r\nimport { MongoClient } from 'mongodb';\r\nimport MeetupList from '../components/meetups/MeetupList';\r\n\r\nfunction HomePage(props) {\r\n  return <MeetupList meetups={props.meetups} />;\r\n}\r\n\r\nexport async function getStaticProps() {\r\n  const client = await MongoClient.connect(\r\n    'mongodb+srv://gil:test1234@cluster0.l3sni.mongodb.net/meetups?retryWrites=true&w=majority'\r\n    );\r\n    const db = client.db();\r\n    \r\n    const meetupCollection = db.collection('meetups');\r\n    \r\n    const meetups = await meetupCollection.find().toArray();\r\n    \r\n    client.close();\r\n    \r\n    return {\r\n      props: {\r\n        meetups: meetups.map(meetup=>({\r\n          title:meetup.title,\r\n          address:meetup.address, \r\n          image: meetup.image,\r\n          id:meetup._id.toString()\r\n        }))\r\n      },\r\n      revalidate: 1\r\n      // is the number in sec, nextjs will wait untill regenerate the page for incoming req\r\n      // this ensure the page will be regenerated from the server after deployement\r\n    };\r\n  }\r\n  \r\n  \r\n  export default HomePage;\r\n  \r\n  // const MEETUPS = [\r\n  // \t{\r\n  // \t\tid: 'm1',\r\n  // \t\timage:\r\n  // \t\t\t'https://corporette.com/wp-content/uploads/2017/03/best-places-for-informal-business-meetings-for-women-lawyers-consultants-and-more.jpg',\r\n  // \t\ttitle: 'A first Meetup',\r\n  // \t\taddress: 'Some address 5, 12345',\r\n  // \t\tdescription: 'this is a first meetup!'\r\n  // \t},\r\n  // \t{\r\n  // \t\tid: 'm2',\r\n  // \t\timage:\r\n  // \t\t\t'https://www.anywhere.pl/wp-content/uploads/2019/07/stanislawie-1024x535-2.jpg',\r\n  // \t\ttitle: 'A second Meetup',\r\n  // \t\taddress: 'Some address 8, 89678',\r\n  // \t\tdescription: 'this is a second meetup!'\r\n  // \t}\r\n  // ];\r\n  \r\n  // export async function getServerSideProps(contex) { // run for every req-should be used for data changes very frequentely\r\n  // \tconst req = contex.req;\r\n  // \tconst res = contex.res;\r\n  \r\n  //   //fetch data from API\r\n  \r\n  // \treturn {\r\n  // \t\tprops: {\r\n  //       meetups: MEETUPS\r\n  //     }\r\n  // \t};\r\n  // }"]},"metadata":{},"sourceType":"module"}